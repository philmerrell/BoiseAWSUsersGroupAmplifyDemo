
type Venue
@model
@auth(
  rules: [
    { allow: public, provider: apiKey, operations: [read] },
    { allow: groups, groups: ["Admins"], operations: [create, update, delete, read] }
  ])
{
  id: ID!
  name: String!
  performances: [Performance] @connection(name: "VenuePerformances")
  address: String!
}

type Artist @model {
  id: ID!
  name: String!
  description: String!
  image: String!
  performances: [Performance] @connection(name: "ArtistPerformances")
  genres: [Genre]
}

type Performance @model
@key(fields: ["when"])
{
  id: ID!
  when: AWSDateTime!
  venue: Venue @connection(name: "VenuePerformances")
  artist: Artist @connection(name: "ArtistPerformances")
}

type Genre {
  id: ID!
  name: String!
}

type User @model {
  username: String!
  email: String!
}